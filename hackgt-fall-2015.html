<head>
  <title>VirtuoCity</title>
</head>

<body>
  <h1>VirtuoCity</h1>
  {{> loginButtons}}

  <button id="toggle-update-info">Update info</button>

  <div id="update-info">
    {{ #if currentUser }}
    <p>User: {{ username }}</p>

    <form class="new-vice">
      <input type="text" name="text" placeholder="Add a vice you want to avoid." />
      <input type="submit" />
    </form>

    <ul>
     {{#each vices}}
     {{> vice}}
     {{/each}}
   </ul>
   <div>

    <p>Contact name: {{ contact.contactName }}</p>
    <p>Contact number: {{ contact.contactNumber }}</p>

    {{> emergencyContact value=contact.contactName}}  
  </div>
  <div id="notification-safe">    
    <p>You're good.</p>
  </div>

  <div id="notification-dangerous">
    <p>Where do you think you are, kid?</p>
  </div>

  {{ /if }}
</div>
</body>

<template name="vice">
  <li>{{text}} <button class="delete">&times;</button></li>
</template>

<template name="emergencyContact">
  <form class="editContact">
    <input type="text" name="contactName" placeholder="Contact name" />
    <input type="tel" pattern='^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$' name="contactNumber" placeholder="Contact number (999) 999-9999" />
    <input type="submit" />
  </form>
</template>
